<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panier - Fortnite Shop</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/favicnon.png">
    <link rel="apple-touch-icon" href="assets/favicnon.png">
    
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600;700&family=Orbitron:wght@400;700;900&family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Meta Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '1296888622477952');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=1296888622477952&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-bg">
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
        <div class="gradient-orb orb-3"></div>
    </div>

    <!-- Navigation -->
    <div id="navbar-container"></div>
    <script src="js/navbar-loader.js"></script>

    <!-- Cart Page -->
    <section class="cart-page">
        <div class="container">
            <h1 class="page-title">üõí Mon Panier</h1>
            
            <div class="cart-container">
                <!-- Cart Items -->
                <div class="cart-items-section">
                    <div id="cartItems" class="cart-items">
                        <!-- Items will be loaded here by JavaScript -->
                    </div>
                    
                    <div id="emptyCart" class="empty-cart" style="display: none;">
                        <div class="empty-cart-icon">üõí</div>
                        <h2>Ton panier est vide</h2>
                        <p>D√©couvre nos offres incroyables et commence √† shopper !</p>
                        <a href="index.html#products" class="cta-button">
                            <span>Voir les Produits</span>
                        </a>
                    </div>
                </div>

                <!-- Cart Summary -->
                <div class="cart-summary">
                    <h3>R√©sum√© de Commande</h3>
                    
                    <div class="summary-line">
                        <span>Sous-total</span>
                        <span id="subtotal">0 F</span>
                    </div>
                    
                    <div class="summary-line">
                        <span>Livraison</span>
                        <span class="free">15 - 45 min ‚ö°</span>
                    </div>
                    
                    <div class="summary-line total">
                        <span>Total</span>
                        <span id="total">0 F</span>
                    </div>
                    
                    <div class="promo-code">
                        <input type="text" id="promoInput" placeholder="Code promo">
                        <button id="applyPromo" class="apply-btn">Appliquer</button>
                    </div>
                    
                    <div id="promoSuccess" class="promo-success" style="display: none;">
                        <span class="promo-text">‚úÖ Code appliqu√© !</span>
                    </div>
                    
                    <button id="checkoutBtn" class="checkout-btn" disabled>
                        <span>Passer √† la Commande</span>
                    </button>
                    
                    <div class="secure-payment">
                        <span class="secure-icon">üîí</span>
                        <span>Paiement 100% S√©curis√©</span>
                    </div>
                    
                    <div class="payment-methods">
                        <span>üí≥</span>
                        <span>üì±</span>
                        <span>üí∞</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Checkout Modal -->
    <div id="checkoutModal" class="modal">
        <div class="modal-content checkout-modal">
            <span class="close-modal">&times;</span>
            
            <h2>Finaliser la Commande</h2>
            
            <div class="checkout-steps">
                <!-- Step 1: Account Info -->
                <div class="checkout-step active" id="step1">
                    <h3>üìß Informations de Livraison</h3>
                    
                    <!-- Message pour items Fortnite (skins, emotes, etc.) -->
                    <p id="vbucksMessage" style="margin-bottom: 20px; color: #aaa; font-size: 14px; display: none;">
                        ‚ÑπÔ∏è Pour les skins et items Fortnite : Tu recevras par email les identifiants d'un compte Epic Games. 
                        Ajoute ce compte en ami, attends 48h, puis offre-toi l'item choisi sur ton compte principal !
                    </p>
                    
                    <!-- Message pour Fortnite Crew -->
                    <p id="crewMessage" style="margin-bottom: 20px; color: #aaa; font-size: 14px; display: none;">
                        ‚ÑπÔ∏è Pour l'abonnement Fortnite Crew, nous avons besoin de tes identifiants Epic Games pour activer le Crew sur ton compte.
                    </p>
                    
                    <form id="accountForm">
                        <!-- Champs communs -->
                        <div class="form-group">
                            <label>Nom et Pr√©nom *</label>
                            <input type="text" id="fullName" required placeholder="Ex: Jean Dupont">
                        </div>
                        
                        <div class="form-group">
                            <label>Email de contact *</label>
                            <input type="email" id="contactEmail" required placeholder="email@exemple.com">
                            <small style="color: #888; font-size: 12px;" id="emailHint">Pour recevoir les identifiants du compte</small>
                        </div>
                        
                        <!-- Champs sp√©cifiques Fortnite Crew (masqu√©s par d√©faut) -->
                        <div id="crewFields" style="display: none;">
                            <div class="form-group">
                                <label>Pseudo Epic Games *</label>
                                <input type="text" id="epicUsername" placeholder="Ton pseudo sur Epic Games">
                            </div>
                            
                            <div class="form-group">
                                <label>Email de connexion Epic Games *</label>
                                <input type="email" id="epicLoginEmail" placeholder="Email de ton compte Epic">
                            </div>
                            
                            <div class="form-group">
                                <label>Num√©ro WhatsApp *</label>
                                <input type="tel" id="whatsappNumber" placeholder="+229 XX XX XX XX">
                                <small style="color: #888; font-size: 12px;">Pour confirmer l'activation</small>
                            </div>
                        </div>
                        
                        <!-- Champs V-Bucks uniquement -->
                        <div id="vbucksFields" style="display: block;">
                            <div class="form-group">
                                <label>Plateforme *</label>
                                <select id="platform" required>
                                    <option value="">S√©lectionne ta plateforme</option>
                                    <option value="xbox">Xbox (One, Series X/S)</option>
                                    <option value="ps">PlayStation (4, 5)</option>
                                    <option value="pc">PC (Epic Games)</option>
                                    <option value="switch">Nintendo Switch</option>
                                    <option value="mobile">Mobile (iOS/Android)</option>
                                </select>
                            </div>
                        </div>
                        
                        <button type="button" class="next-btn" id="step1NextBtn">Continuer vers le Paiement ‚û°Ô∏è</button>
                    </form>
                </div>

                <!-- Step 2: Payment Method -->
                <div class="checkout-step" id="step2">
                    <h3>üí≥ Moyen de Paiement</h3>
                    
                    <div class="payment-options">
                        <label class="payment-option">
                            <input type="radio" name="payment" value="mobile" checked>
                            <div class="payment-content">
                                <div class="payment-icon">üì±</div>
                                <div class="payment-details">
                                    <span class="payment-name">Mobile Money (MTN/Moov/Orange)</span>
                                    <span class="payment-desc">Paiement instantan√© via Lygos</span>
                                </div>
                            </div>
                        </label>
                        
                        <label class="payment-option">
                            <input type="radio" name="payment" value="crypto">
                            <div class="payment-content">
                                <div class="payment-icon">‚Çø</div>
                                <div class="payment-details">
                                    <span class="payment-name">Crypto-monnaie (USDT/BTC)</span>
                                    <span class="payment-desc">Coming Soon üöÄ</span>
                                </div>
                            </div>
                        </label>
                    </div>

                    <button type="button" class="pay-btn" id="payBtn">
                        Payer Maintenant üîí
                    </button>
                </div>

                <!-- Step 3: Processing -->
                <div class="checkout-step" id="step3">
                    <div class="processing">
                        <div class="spinner"></div>
                        <h3 id="processingStatus">Initialisation du paiement...</h3>
                        <p class="processing-status" id="processingHint">
                            Veuillez patienter, nous s√©curisons votre transaction.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- WhatsApp Support Button (Floating) -->
    <div class="floating-whatsapp">
        <a href="https://wa.me/22965623691"
           class="whatsapp-float-btn"
           target="_blank"
           rel="noopener"
           data-whatsapp-message="Bonjour, j'ai besoin d'aide avec la finalisation de ma commande FortniteItems."
           aria-label="Support WhatsApp">
            <span class="button-icon">üí¨</span>
            <span class="button-text">Support WhatsApp</span>
            <span class="whatsapp-pulse"></span>
        </a>
    </div>

    <script src="analytics.js"></script>
    <script src="script.js"></script>
    <script src="cart.js"></script>
    <script src="checkout.js"></script>
</body>
</html>

